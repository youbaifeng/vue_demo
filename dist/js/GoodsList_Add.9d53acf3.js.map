{"version":3,"sources":["webpack:///./src/components/goods/Goods_add.vue?2db3","webpack:///src/components/goods/Goods_add.vue","webpack:///./src/components/goods/Goods_add.vue?5258","webpack:///./src/components/goods/Goods_add.vue","webpack:///./src/components/goods/Goods_list.vue?cea5","webpack:///./src/components/goods/Goods_list.vue?f583","webpack:///src/components/goods/Goods_list.vue","webpack:///./src/components/goods/Goods_list.vue?9971","webpack:///./src/components/goods/Goods_list.vue","webpack:///./src/components/goods/Goods_add.vue?a120","webpack:///./node_modules/core-js/modules/es.array.find-index.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","path","_v","activeIndex","ref","addForm","addFormRules","checkoutTabs","on","tabClick","model","value","callback","$$v","expression","$set","cateList","props","handleChange","_l","item","key","attr_id","attr_name","attr","i","uploadUrl","handlePreview","handleRemove","headersObj","handleSuccess","staticClass","$event","add","previewDialogVisible","previewPth","staticRenderFns","data","goods_name","goods_price","goods_number","goods_weight","goods_cat","goods_pic","label","children","selectedKeys","manyParams","onlyParams","Authorization","window","sessionStorage","getItem","computed","cateId","length","created","getCateList","methods","oldActiveName","message","type","file","response","url","splice","pic","tmp_path","push","picInfo","$refs","addFormRef","validate","component","getGoods","queryInfo","searchGoods","slot","addGoods","staticStyle","goodsList","scopedSlots","_u","fn","scope","_s","_f","row","add_time","showEditGoodsDailog","goods_id","deleteGoodsById","pagenum","pageszize","total","handleSizeChange","handleCurrentChange","editGoodsDialogVisible","editDialogClosed","editForm","editFormRules","editGoods","query","pagesize","getGoodsList","val","trim","$router","editFormRef","resetFields","$","$findIndex","findIndex","addToUnscopables","FIND_INDEX","SKIPS_HOLES","Array","target","proto","forced","callbackfn","arguments","undefined"],"mappings":"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","file":"js/GoodsList_Add.9d53acf3.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-breadcrumb',{attrs:{\"separator-class\":\"el-icon-arrow-right\"}},[_c('el-breadcrumb-item',{attrs:{\"to\":{ path: '/home' }}},[_vm._v(\"首页\")]),_c('el-breadcrumb-item',[_vm._v(\"商品管理\")]),_c('el-breadcrumb-item',[_vm._v(\"添加商品\")])],1),_c('el-card',[_c('el-alert',{attrs:{\"title\":\"消息提示的文案\",\"type\":\"info\",\"center\":\"\",\"show-icon\":\"\",\"closable\":false}}),_c('el-steps',{attrs:{\"space\":200,\"active\":_vm.activeIndex - 0,\"finish-status\":\"success\",\"align-center\":\"\"}},[_c('el-step',{attrs:{\"title\":\"基本信息\"}}),_c('el-step',{attrs:{\"title\":\"商品参数\"}}),_c('el-step',{attrs:{\"title\":\"商品属性\"}}),_c('el-step',{attrs:{\"title\":\"商品图片\"}}),_c('el-step',{attrs:{\"title\":\"商品内容\"}}),_c('el-step',{attrs:{\"title\":\"完成\"}})],1),_c('el-form',{ref:\"addFormRef\",attrs:{\"model\":_vm.addForm,\"rules\":_vm.addFormRules,\"label-width\":\"100px\",\"label-position\":\"top\"}},[_c('el-tabs',{attrs:{\"tab-position\":\"left\",\"before-leave\":_vm.checkoutTabs},on:{\"tab-click\":_vm.tabClick},model:{value:(_vm.activeIndex),callback:function ($$v) {_vm.activeIndex=$$v},expression:\"activeIndex\"}},[_c('el-tab-pane',{attrs:{\"label\":\"基本信息\",\"name\":\"0\"}},[_c('el-form-item',{attrs:{\"label\":\"商品名称\",\"prop\":\"goods_name\"}},[_c('el-input',{model:{value:(_vm.addForm.goods_name),callback:function ($$v) {_vm.$set(_vm.addForm, \"goods_name\", $$v)},expression:\"addForm.goods_name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"商品价格\",\"prop\":\"goods_price\"}},[_c('el-input',{attrs:{\"type\":\"number\"},model:{value:(_vm.addForm.goods_price),callback:function ($$v) {_vm.$set(_vm.addForm, \"goods_price\", $$v)},expression:\"addForm.goods_price\"}})],1),_c('el-form-item',{attrs:{\"label\":\"商品数量\",\"prop\":\"goods_number\"}},[_c('el-input',{attrs:{\"type\":\"number\"},model:{value:(_vm.addForm.goods_number),callback:function ($$v) {_vm.$set(_vm.addForm, \"goods_number\", $$v)},expression:\"addForm.goods_number\"}})],1),_c('el-form-item',{attrs:{\"label\":\"商品重量\",\"prop\":\"goods_weight\"}},[_c('el-input',{attrs:{\"type\":\"number\"},model:{value:(_vm.addForm.goods_weight),callback:function ($$v) {_vm.$set(_vm.addForm, \"goods_weight\", $$v)},expression:\"addForm.goods_weight\"}})],1),_c('el-form-item',{attrs:{\"label\":\"商品分类\",\"prop\":\"cateList\"}},[_c('el-cascader',{attrs:{\"expand-trigger\":\"hover\",\"options\":_vm.cateList,\"props\":_vm.props},on:{\"change\":_vm.handleChange},model:{value:(_vm.addForm.goods_cat),callback:function ($$v) {_vm.$set(_vm.addForm, \"goods_cat\", $$v)},expression:\"addForm.goods_cat\"}})],1)],1),_c('el-tab-pane',{attrs:{\"label\":\"商品参数\",\"name\":\"1\"}},_vm._l((_vm.manyParams),function(item){return _c('el-form-item',{key:item.attr_id,attrs:{\"label\":item.attr_name}},[_c('el-checkbox-group',{model:{value:(item.attr_vals),callback:function ($$v) {_vm.$set(item, \"attr_vals\", $$v)},expression:\"item.attr_vals\"}},_vm._l((item.attr_vals),function(attr,i){return _c('el-checkbox',{key:i,attrs:{\"label\":attr,\"border\":\"\"}})}),1)],1)}),1),_c('el-tab-pane',{attrs:{\"label\":\"商品属性\",\"name\":\"2\"}},_vm._l((_vm.onlyParams),function(item){return _c('el-form-item',{key:item.attr_id,attrs:{\"label\":item.attr_name}},[_c('el-input',{model:{value:(item.attr_vals),callback:function ($$v) {_vm.$set(item, \"attr_vals\", $$v)},expression:\"item.attr_vals\"}})],1)}),1),_c('el-tab-pane',{attrs:{\"label\":\"商品图片\",\"name\":\"3\"}},[_c('el-upload',{attrs:{\"action\":_vm.uploadUrl,\"on-preview\":_vm.handlePreview,\"on-remove\":_vm.handleRemove,\"headers\":_vm.headersObj,\"list-type\":\"picture\",\"on-success\":_vm.handleSuccess}},[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"}},[_vm._v(\"点击上传\")])],1)],1),_c('el-tab-pane',{attrs:{\"label\":\"商品内容\",\"name\":\"4\"}},[_c('quill-editor'),_c('el-button',{staticClass:\"addBtn\",attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.add()}}},[_vm._v(\" 添加商品\")])],1)],1)],1)],1),_c('el-dialog',{attrs:{\"title\":\"预览图片\",\"visible\":_vm.previewDialogVisible,\"width\":\"50%\"},on:{\"update:visible\":function($event){_vm.previewDialogVisible=$event}}},[_c('img',{attrs:{\"src\":_vm.previewPth,\"alt\":\"\"}})])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <!--添加面包屑导航-->\r\n    <el-breadcrumb separator-class=\"el-icon-arrow-right\">\r\n      <el-breadcrumb-item :to=\"{ path: '/home' }\">首页</el-breadcrumb-item>\r\n      <el-breadcrumb-item>商品管理</el-breadcrumb-item>\r\n      <el-breadcrumb-item>添加商品</el-breadcrumb-item>\r\n    </el-breadcrumb>\r\n    <!--卡片区域-->\r\n    <el-card>\r\n      <!--消息提示-->\r\n      <el-alert\r\n        title=\"消息提示的文案\"\r\n        type=\"info\"\r\n        center\r\n        show-icon\r\n        :closable=\"false\"\r\n      >\r\n      </el-alert>\r\n      <!--步骤条-->\r\n      <el-steps\r\n        :space=\"200\"\r\n        :active=\"activeIndex - 0\"\r\n        finish-status=\"success\"\r\n        align-center\r\n      >\r\n        <el-step title=\"基本信息\"></el-step>\r\n        <el-step title=\"商品参数\"></el-step>\r\n        <el-step title=\"商品属性\"></el-step>\r\n        <el-step title=\"商品图片\"></el-step>\r\n        <el-step title=\"商品内容\"></el-step>\r\n        <el-step title=\"完成\"></el-step>\r\n      </el-steps>\r\n      <!--标签页区域-->\r\n      <el-form\r\n        :model=\"addForm\"\r\n        :rules=\"addFormRules\"\r\n        ref=\"addFormRef\"\r\n        label-width=\"100px\"\r\n        label-position=\"top\"\r\n      >\r\n        <el-tabs\r\n          tab-position=\"left\"\r\n          v-model=\"activeIndex\"\r\n          :before-leave=\"checkoutTabs\"\r\n          @tab-click=\"tabClick\"\r\n        >\r\n          <el-tab-pane label=\"基本信息\" name=\"0\">\r\n            <el-form-item label=\"商品名称\" prop=\"goods_name\">\r\n              <el-input v-model=\"addForm.goods_name\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"商品价格\" prop=\"goods_price\">\r\n              <el-input type=\"number\" v-model=\"addForm.goods_price\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"商品数量\" prop=\"goods_number\">\r\n              <el-input type=\"number\" v-model=\"addForm.goods_number\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"商品重量\" prop=\"goods_weight\">\r\n              <el-input type=\"number\" v-model=\"addForm.goods_weight\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"商品分类\" prop=\"cateList\">\r\n              <el-cascader\r\n                expand-trigger=\"hover\"\r\n                v-model=\"addForm.goods_cat\"\r\n                :options=\"cateList\"\r\n                :props=\"props\"\r\n                @change=\"handleChange\"\r\n              ></el-cascader>\r\n            </el-form-item>\r\n          </el-tab-pane>\r\n          <el-tab-pane label=\"商品参数\" name=\"1\">\r\n            <el-form-item\r\n              :label=\"item.attr_name\"\r\n              v-for=\"item in manyParams\"\r\n              :key=\"item.attr_id\"\r\n            >\r\n              <el-checkbox-group v-model=\"item.attr_vals\">\r\n                <el-checkbox\r\n                  :label=\"attr\"\r\n                  v-for=\"(attr, i) in item.attr_vals\"\r\n                  :key=\"i\"\r\n                  border\r\n                ></el-checkbox>\r\n              </el-checkbox-group>\r\n            </el-form-item>\r\n          </el-tab-pane>\r\n          <el-tab-pane label=\"商品属性\" name=\"2\">\r\n            <el-form-item\r\n              :label=\"item.attr_name\"\r\n              v-for=\"item in onlyParams\"\r\n              :key=\"item.attr_id\"\r\n            >\r\n              <el-input v-model=\"item.attr_vals\"></el-input>\r\n            </el-form-item>\r\n          </el-tab-pane>\r\n          <el-tab-pane label=\"商品图片\" name=\"3\">\r\n            <el-upload\r\n              :action=\"uploadUrl\"\r\n              :on-preview=\"handlePreview\"\r\n              :on-remove=\"handleRemove\"\r\n              :headers=\"headersObj\"\r\n              list-type=\"picture\"\r\n              :on-success=\"handleSuccess\"\r\n            >\r\n              <el-button size=\"small\" type=\"primary\">点击上传</el-button>\r\n            </el-upload>\r\n          </el-tab-pane>\r\n          <el-tab-pane label=\"商品内容\" name=\"4\">\r\n            <!--文本编辑区-->\r\n            <quill-editor></quill-editor>\r\n            <!--添加商品按钮-->\r\n            <el-button type=\"primary\" class=\"addBtn\" @click=\"add()\">\r\n              添加商品</el-button\r\n            >\r\n          </el-tab-pane>\r\n        </el-tabs>\r\n      </el-form>\r\n    </el-card>\r\n    <!--显示预览图片对话框-->\r\n    <el-dialog\r\n      title=\"预览图片\"\r\n      :visible.sync=\"previewDialogVisible\"\r\n      width=\"50%\"\r\n    >\r\n      <img :src=\"previewPth\" alt=\"\" />\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n<script>\r\nimport _ from \"lodash\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      activeIndex: \"0\",\r\n      //添加表单数据\r\n      addForm: {\r\n        goods_name: \"\",\r\n        goods_price: 0,\r\n        goods_number: 0,\r\n        goods_weight: 0,\r\n        goods_cat: [],\r\n        goods_pic: [],\r\n        attrs: [],\r\n      },\r\n      cateList: [],\r\n      addFormRules: {\r\n        goods_name: [\r\n          { required: true, message: \"请输入商品名称\", trigger: \"blur\" },\r\n        ],\r\n        goods_price: [\r\n          { required: true, message: \"请输入商品价格\", trigger: \"blur\" },\r\n        ],\r\n        goods_number: [\r\n          { required: true, message: \"请输入商品数量\", trigger: \"blur\" },\r\n        ],\r\n        goods_weight: [\r\n          { required: true, message: \"请输入商品重量\", trigger: \"blur\" },\r\n        ],\r\n      },\r\n      props: {\r\n        label: \"cat_name\",\r\n        value: \"cat_id\",\r\n        children: \"children\",\r\n      },\r\n\r\n      selectedKeys: [],\r\n      //保存动态参数\r\n      manyParams: [],\r\n      //保存静态参数\r\n      onlyParams: [],\r\n      //上传图片的地址\r\n      uploadUrl: \"http://127.0.0.1:8888/api/private/v1/upload\",\r\n      //设置上传图片的请求头部\r\n      headersObj: {\r\n        Authorization: window.sessionStorage.getItem(\"token\"),\r\n      },\r\n      //图片预览路径\r\n      previewPth: \"\",\r\n      //控制是否显示预览图片对话框\r\n      previewDialogVisible: false,\r\n    };\r\n  },\r\n  computed: {\r\n    //获取选中的分类参数Id\r\n    cateId() {\r\n      if (this.addForm.goods_cat.length === 3) {\r\n        return this.addForm.goods_cat[2];\r\n      } else {\r\n        return null;\r\n      }\r\n    },\r\n  },\r\n  created() {\r\n    this.getCateList();\r\n  },\r\n  methods: {\r\n    async getCateList() {\r\n      const { data: res } = await this.$http.get(\"categories\");\r\n      //如果获取失败则提示用户获取分类表失败\r\n      if (res.meta.status !== 200) {\r\n         return this.$Message({\r\n          message: \"获取商品分类列表失败！\",\r\n          type: \"error\",\r\n        });\r\n      }\r\n      this.cateList = res.data;\r\n    },\r\n    handleChange() {},\r\n    //切换标签时触发的函数，自带两个参数\r\n    checkoutTabs(activeName, oldActiveName) {\r\n      if (oldActiveName === \"0\" && this.addForm.goods_cat.length !== 3) {\r\n         return this.$Message({\r\n          message: \"请选择商品分类！\",\r\n          type: \"info\",\r\n        });\r\n        return false;\r\n      }\r\n    },\r\n    //当tab被选中时触发\r\n    async tabClick() {\r\n      //如果触发的tab的activeIndex等于1时执行的代码\r\n      if (this.activeIndex === \"1\") {\r\n        //发起一个获取动态参数列表的请求\r\n        const { data: res } = await this.$http.get(\r\n          `categories/${this.cateId}/attributes`,\r\n          {\r\n            params: { sel: \"many\" },\r\n          }\r\n        );\r\n        //判断是否请求成功\r\n        if (res.meta.status !== 200) {\r\n           return this.$Message({\r\n          message: \"获取动态参数列表失败！\",\r\n          type: \"error\",\r\n        });\r\n        }\r\n\r\n        //将获得的参数列表中的attr_vals转换成数组\r\n        res.data.forEach((item) => {\r\n          if (item.attr_vals.trim() !== \"\") {\r\n            item.attr_vals = item.attr_vals.split(\",\");\r\n          } else {\r\n            item.attr_vals = [];\r\n          }\r\n        });\r\n        //将获得的动态参数赋值给manyParams\r\n        this.manyParams = res.data;\r\n        console.log(res.data);\r\n      } else if (this.activeIndex === \"2\") {\r\n        //发起一个获取动态参数列表的请求\r\n        const { data: res } = await this.$http.get(\r\n          `categories/${this.cateId}/attributes`,\r\n          {\r\n            params: { sel: \"only\" },\r\n          }\r\n        );\r\n        //判断是否请求成功\r\n        if (res.meta.status !== 200) {\r\n           return this.$Message({\r\n          message: \"获取静态属性失败！\",\r\n          type: \"error\",\r\n        });\r\n        }\r\n        //将获得的静态数据保存到onlyParams\r\n        this.onlyParams = res.data;\r\n        console.log(res.data);\r\n      }\r\n    },\r\n    //当点击预览的时候触发\r\n    handlePreview(file) {\r\n      //将获得的图片url赋值给预览路径\r\n      this.previewPth = file.response.data.url;\r\n      this.previewDialogVisible = true;\r\n    },\r\n    //当点击移除的时候触发\r\n    handleRemove(file) {\r\n      //先获取删除图片的路径\r\n      const picPath = file.response.data.tmp_path;\r\n      //查找该图片路径对应的图片信息对象的数组的索引\r\n      const i = this.addForm.goods_pic.findIndex(\r\n        (item) => item.pic === picPath\r\n      );\r\n      //调用数组中的splice方法，删除对应索引的item\r\n      this.addForm.goods_pic.splice(i, 1);\r\n      console.log(this.addForm);\r\n    },\r\n    //上传图片成功时触发的函数\r\n    handleSuccess(response) {\r\n      //拼接得到一个图片信息对象\r\n      const picInfo = {\r\n        pic: response.data.tmp_path,\r\n      };\r\n      //将图片信息保存到goods_pic数组中\r\n      this.addForm.goods_pic.push(picInfo);\r\n    },\r\n    //当点击添加商品时触发的函数\r\n    add() {\r\n      //先进行表单的预验证\r\n      this.$refs.addFormRef.validate(async (valid) => {\r\n        console.log(valid);\r\n        if (!valid) {\r\n           return this.$Message({\r\n          message: \"请填写必要的表单项！\",\r\n          type: \"error\",\r\n        });\r\n        }\r\n        //深拷贝addForm\r\n        const form = _.cloneDeep(this.addForm);\r\n        //将goods_cat数组转换为以','分割的分类列表\r\n        form.goods_cat = form.goods_cat.join(\",\");\r\n        const newInfo = {};\r\n\r\n        this.manyParams.forEach((item) => {\r\n          newInfo.attr_id = item.attr_id;\r\n          newInfo.attr_value = Array.prototype.join.call(item.attr_vals, \" \");\r\n\r\n          this.addForm.attrs.push(newInfo);\r\n        }),\r\n          this.onlyParams.forEach((item) => {\r\n            newInfo.attr_id = item.attr_id;\r\n            newInfo.attr_value = Array.prototype.join.call(item.attr_vals, \" \");\r\n\r\n            this.addForm.attrs.push(newInfo);\r\n          }),\r\n          (form.attrs = this.addForm.attrs);\r\n        //发起添加商品的请求\r\n        const{data:res} = await this.$http.post('goods',form);\r\n        console.log(res)\r\n        if(res.meta.status !== 201){\r\n          return this.$Message({\r\n          message: \"添加商品失败！\",\r\n          type: \"error\",\r\n        });\r\n        }\r\n        //添加成功便跳转到商品列表页面\r\n        this.$router.push('/goods')\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style lang=\"less\" scoped>\r\n.el-checkbox {\r\n  margin: 0 10px 0 0 !important;\r\n}\r\nimg {\r\n  width: 100%;\r\n}\r\n.addBtn {\r\n  margin-top: 15px;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Goods_add.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Goods_add.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Goods_add.vue?vue&type=template&id=47ce6c3e&scoped=true&\"\nimport script from \"./Goods_add.vue?vue&type=script&lang=js&\"\nexport * from \"./Goods_add.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Goods_add.vue?vue&type=style&index=0&id=47ce6c3e&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"47ce6c3e\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Goods_list.vue?vue&type=style&index=0&id=2bc0080e&lang=less&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-breadcrumb',{attrs:{\"separator-class\":\"el-icon-arrow-right\"}},[_c('el-breadcrumb-item',{attrs:{\"to\":{ path: '/home' }}},[_vm._v(\"首页\")]),_c('el-breadcrumb-item',[_vm._v(\"商品管理\")]),_c('el-breadcrumb-item',[_vm._v(\"商品列表\")])],1),_c('el-card',[_c('el-row',{attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":8}},[_c('el-input',{attrs:{\"placeholder\":\"请输入内容\",\"clearable\":\"\"},on:{\"clear\":_vm.getGoods},model:{value:(_vm.queryInfo.query),callback:function ($$v) {_vm.$set(_vm.queryInfo, \"query\", $$v)},expression:\"queryInfo.query\"}},[_c('el-button',{attrs:{\"slot\":\"append\",\"icon\":\"el-icon-search\"},on:{\"click\":_vm.searchGoods},slot:\"append\"})],1)],1),_c('el-col',{attrs:{\"span\":4}},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.addGoods}},[_vm._v(\" 添加商品\")])],1)],1),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.goodsList,\"border\":\"\",\"stripe\":\"\"}},[_c('el-table-column',{attrs:{\"type\":\"index\"}}),_c('el-table-column',{attrs:{\"prop\":\"goods_name\",\"label\":\"商品名称\"}}),_c('el-table-column',{attrs:{\"prop\":\"goods_price\",\"label\":\"商品价格(元)\",\"width\":\"100px\"}}),_c('el-table-column',{attrs:{\"prop\":\"goods_weight\",\"label\":\"商品重量\",\"width\":\"70px\"}}),_c('el-table-column',{attrs:{\"label\":\"创建时间\",\"width\":\"130px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\" \"+_vm._s(_vm._f(\"dateFormat\")(scope.row.add_time))+\" \")]}}])}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"180px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-edit\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.showEditGoodsDailog(scope.row.goods_id)}}},[_vm._v(\"编辑\")]),_c('el-button',{attrs:{\"type\":\"danger\",\"icon\":\"el-icon-delete\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.deleteGoodsById(scope.row.goods_id)}}},[_vm._v(\"删除\")])]}}])})],1),_c('el-pagination',{attrs:{\"current-page\":_vm.queryInfo.pagenum,\"page-sizes\":[10, 20, 30, 60],\"page-size\":_vm.queryInfo.pageszize,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1),_c('el-dialog',{attrs:{\"title\":\"修改商品\",\"visible\":_vm.editGoodsDialogVisible,\"width\":\"50%\"},on:{\"update:visible\":function($event){_vm.editGoodsDialogVisible=$event},\"close\":_vm.editDialogClosed}},[_c('el-form',{ref:\"editFormRef\",attrs:{\"model\":_vm.editForm,\"rules\":_vm.editFormRules,\"label-width\":\"100px\",\"label-position\":\"top\"}},[_c('el-form-item',{attrs:{\"label\":\"商品名称\",\"prop\":\"goods_name\"}},[_c('el-input',{model:{value:(_vm.editForm.goods_name),callback:function ($$v) {_vm.$set(_vm.editForm, \"goods_name\", $$v)},expression:\"editForm.goods_name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"商品价格\",\"prop\":\"goods_price\"}},[_c('el-input',{attrs:{\"type\":\"number\"},model:{value:(_vm.editForm.goods_price),callback:function ($$v) {_vm.$set(_vm.editForm, \"goods_price\", $$v)},expression:\"editForm.goods_price\"}})],1),_c('el-form-item',{attrs:{\"label\":\"商品数量\",\"prop\":\"goods_number\"}},[_c('el-input',{attrs:{\"type\":\"number\"},model:{value:(_vm.editForm.goods_number),callback:function ($$v) {_vm.$set(_vm.editForm, \"goods_number\", $$v)},expression:\"editForm.goods_number\"}})],1),_c('el-form-item',{attrs:{\"label\":\"商品重量\",\"prop\":\"goods_weight\"}},[_c('el-input',{attrs:{\"type\":\"number\"},model:{value:(_vm.editForm.goods_weight),callback:function ($$v) {_vm.$set(_vm.editForm, \"goods_weight\", $$v)},expression:\"editForm.goods_weight\"}})],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.editGoodsDialogVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.editGoods()}}},[_vm._v(\"确 定\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <!--添加面包屑导航-->\r\n    <el-breadcrumb separator-class=\"el-icon-arrow-right\">\r\n      <el-breadcrumb-item :to=\"{ path: '/home' }\">首页</el-breadcrumb-item>\r\n      <el-breadcrumb-item>商品管理</el-breadcrumb-item>\r\n      <el-breadcrumb-item>商品列表</el-breadcrumb-item>\r\n    </el-breadcrumb>\r\n    <!--卡片区域-->\r\n    <el-card>\r\n      <!--搜素区域-->\r\n      <el-row :gutter=\"20\">\r\n        <el-col :span=\"8\">\r\n          <el-input\r\n            placeholder=\"请输入内容\"\r\n            v-model=\"queryInfo.query\"\r\n            clearable\r\n            @clear=\"getGoods\"\r\n          >\r\n            <el-button\r\n              slot=\"append\"\r\n              icon=\"el-icon-search\"\r\n              @click=\"searchGoods\"\r\n            ></el-button>\r\n          </el-input>\r\n        </el-col>\r\n        <el-col :span=\"4\">\r\n          <el-button type=\"primary\" @click=\"addGoods\"> 添加商品</el-button>\r\n        </el-col>\r\n      </el-row>\r\n      <!--商品列表表格-->\r\n      <el-table :data=\"goodsList\" style=\"width: 100%\" border stripe>\r\n        <el-table-column type=\"index\"> </el-table-column>\r\n        <el-table-column prop=\"goods_name\" label=\"商品名称\"> </el-table-column>\r\n        <el-table-column prop=\"goods_price\" label=\"商品价格(元)\" width=\"100px\">\r\n        </el-table-column>\r\n        <el-table-column prop=\"goods_weight\" label=\"商品重量\" width=\"70px\">\r\n        </el-table-column>\r\n        <el-table-column label=\"创建时间\" width=\"130px\">\r\n          <template slot-scope=\"scope\">\r\n            {{ scope.row.add_time | dateFormat }}\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"操作\" width=\"180px\">\r\n          <template slot-scope=\"scope\">\r\n            <el-button\r\n              type=\"primary\"\r\n              icon=\"el-icon-edit\"\r\n              size=\"mini\"\r\n              @click=\"showEditGoodsDailog(scope.row.goods_id)\"\r\n              >编辑</el-button\r\n            >\r\n            <el-button\r\n              type=\"danger\"\r\n              icon=\"el-icon-delete\"\r\n              size=\"mini\"\r\n              @click=\"deleteGoodsById(scope.row.goods_id)\"\r\n              >删除</el-button\r\n            >\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n      <el-pagination\r\n        @size-change=\"handleSizeChange\"\r\n        @current-change=\"handleCurrentChange\"\r\n        :current-page=\"queryInfo.pagenum\"\r\n        :page-sizes=\"[10, 20, 30, 60]\"\r\n        :page-size=\"queryInfo.pageszize\"\r\n        layout=\"total, sizes, prev, pager, next, jumper\"\r\n        :total=\"total\"\r\n      >\r\n      </el-pagination>\r\n    </el-card>\r\n    <!--修改商品对话框-->\r\n\r\n    <el-dialog\r\n      title=\"修改商品\"\r\n      :visible.sync=\"editGoodsDialogVisible\"\r\n      width=\"50%\"\r\n      @close='editDialogClosed'\r\n    >\r\n      <el-form\r\n        :model=\"editForm\"\r\n        :rules=\"editFormRules\"\r\n        ref=\"editFormRef\"\r\n        label-width=\"100px\"\r\n        label-position=\"top\"\r\n      >\r\n        <el-form-item label=\"商品名称\" prop=\"goods_name\">\r\n          <el-input v-model=\"editForm.goods_name\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"商品价格\" prop=\"goods_price\">\r\n          <el-input type=\"number\" v-model=\"editForm.goods_price\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"商品数量\" prop=\"goods_number\">\r\n          <el-input type=\"number\" v-model=\"editForm.goods_number\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"商品重量\" prop=\"goods_weight\">\r\n          <el-input type=\"number\" v-model=\"editForm.goods_weight\"></el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"editGoodsDialogVisible = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"editGoods()\">确 定</el-button>\r\n      </span>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      //获取商品列表的查询参数\r\n      queryInfo: {\r\n        query: \"\",\r\n        pagenum: 1,\r\n        pagesize: 10,\r\n      },\r\n      //保存商品数据列表\r\n      goodsList: [],\r\n      //保存商品列表总数据条数\r\n      total: 0,\r\n      editGoodsDialogVisible: false,\r\n      editForm: {\r\n        goods_name: \"\",\r\n        goods_price: 0,\r\n        goods_number: 0,\r\n        goods_weight: 0,\r\n        goods_id:0\r\n      },\r\n      editFormRules: {\r\n        goods_name: [\r\n          { required: true, message: \"请输入商品名称\", trigger: \"blur\" },\r\n        ],\r\n        goods_price: [\r\n          { required: true, message: \"请输入商品价格\", trigger: \"blur\" },\r\n        ],\r\n        goods_number: [\r\n          { required: true, message: \"请输入商品数量\", trigger: \"blur\" },\r\n        ],\r\n        goods_weight: [\r\n          { required: true, message: \"请输入商品重量\", trigger: \"blur\" },\r\n        ],\r\n      },\r\n    };\r\n  },\r\n  //生命周期函数，当所有组件都加载完成会自动调用\r\n  created() {\r\n    //调用获取商品列表函数\r\n    this.getGoodsList();\r\n  },\r\n  methods: {\r\n    async getGoodsList() {\r\n      //发起获取商品列表数据的请求\r\n      const { data: res } = await this.$http.get(\"goods\", {\r\n        params: this.queryInfo,\r\n      });\r\n      //如果状态码不等于200,则提示用户获取商品列表失败\r\n      if (res.meta.status !== 200) {\r\n        return this.$Message.error(\"获取商品数据列表失败\");\r\n      }\r\n      //将获得的数据保存到商品列表数据\r\n      (this.goodsList = res.data.goods),\r\n        //将获得的总条数保存到total中\r\n        (this.total = res.data.total);\r\n    },\r\n    //每页显示数量改变时触发的函数\r\n    handleSizeChange(val) {\r\n      //将改变的页数赋值给queryInfo.pageszize\r\n      this.queryInfo.pagesize = val;\r\n      //并重新调用获取商品列表的函数\r\n      this.getGoodsList();\r\n    },\r\n    //当页码改变时触发的函数\r\n    handleCurrentChange(val) {\r\n      //将改变的页码值赋值给queryInfo.pagenum\r\n      this.queryInfo.pagenum = val;\r\n      //并重新调用获取商品列表函数\r\n      this.getGoodsList();\r\n    },\r\n    searchGoods() {\r\n      this.queryInfo.query = this.queryInfo.query.trim();\r\n      //判断搜索框输入的是否为空字符串，若为空字符串则退出\r\n      if (this.queryInfo.query.trim() === \"\") {\r\n        return;\r\n      }\r\n      //执行获取商品列表的函数\r\n      this.getGoodsList();\r\n    },\r\n    getGoods() {\r\n      //清空iput输入框以后重新调用获取商品列表函数\r\n\r\n      this.getGoodsList();\r\n    },\r\n    async deleteGoodsById(id) {\r\n      const result = await this.$confirm(\r\n        \"此操作将永久删除该文件, 是否继续?\",\r\n        \"提示\",\r\n        {\r\n          confirmButtonText: \"确定\",\r\n          cancelButtonText: \"取消\",\r\n          type: \"warning\",\r\n        }\r\n      ).catch((err) => err);\r\n      if (result !== \"confirm\") {\r\n        return this.$Message({\r\n          message: \"取消了删除！\",\r\n          type: \"info\",\r\n        });\r\n      }\r\n      //发起删除商品请求\r\n      const { data: res } = await this.$http.delete(`goods/${id}`);\r\n      //通过判断状态码是否等于200,如果不等于200则提示用户删除失败\r\n      if (res.meta.status !== 200) {\r\n        return this.$Message({\r\n          message: \"删除数据失败！\",\r\n          type: \"error\",\r\n        });\r\n      }\r\n      //并重新调用获取商品数据列表\r\n      this.getGoodsList();\r\n    },\r\n    addGoods() {\r\n      this.$router.push(\"goods/adds\");\r\n    },\r\n    async editGoods() {\r\n      const {data:res} = await this.$http.put(`goods/${this.editForm.goods_id}`,{\r\n           goods_name:this.editForm.goods_name,\r\n           goods_price:this.editForm.goods_price,\r\n           goods_number:this.editForm.goods_number,\r\n           goods_weight:this.editForm.goods_weight\r\n      })\r\n      console.log(res)\r\n      if(res.meta.status !== 201){\r\n          return this.$Message({\r\n          message: \"提交商品失败！\",\r\n          type: \"error\",\r\n        });\r\n        \r\n      }\r\n      this.getGoodsList();\r\n      this.editGoodsDialogVisible = false\r\n    },\r\n   async showEditGoodsDailog(id) {\r\n    \r\n      const {data:res} = await this.$http.get(`goods/${id}`)\r\n   \r\n      if(res.meta.status !== 200){\r\n         return this.$Message({\r\n          message: \"查询商品信息失败！\",\r\n          type: \"error\",\r\n        });\r\n      }\r\n      this.editForm.goods_id = res.data.goods_id\r\n     this.editForm.goods_name = res.data.goods_name\r\n     this.editForm.goods_weight = res.data.goods_weight\r\n     this.editForm.goods_number = res.data.goods_number\r\n     this.editForm.goods_price = res.data.goods_price\r\n      this.editGoodsDialogVisible = true;\r\n    },\r\n    editDialogClosed(){\r\n      this.$refs.editFormRef.resetFields();\r\n    }\r\n  },\r\n};\r\n</script>\r\n<style lang=\"less\" scoped>\r\n.el-table {\r\n  margin-bottom: 10px;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Goods_list.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Goods_list.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Goods_list.vue?vue&type=template&id=2bc0080e&scoped=true&\"\nimport script from \"./Goods_list.vue?vue&type=script&lang=js&\"\nexport * from \"./Goods_list.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Goods_list.vue?vue&type=style&index=0&id=2bc0080e&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2bc0080e\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Goods_add.vue?vue&type=style&index=0&id=47ce6c3e&lang=less&scoped=true&\"","'use strict';\nvar $ = require('../internals/export');\nvar $findIndex = require('../internals/array-iteration').findIndex;\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\nvar FIND_INDEX = 'findIndex';\nvar SKIPS_HOLES = true;\n\n// Shouldn't skip holes\nif (FIND_INDEX in []) Array(1)[FIND_INDEX](function () { SKIPS_HOLES = false; });\n\n// `Array.prototype.findIndex` method\n// https://tc39.es/ecma262/#sec-array.prototype.findindex\n$({ target: 'Array', proto: true, forced: SKIPS_HOLES }, {\n  findIndex: function findIndex(callbackfn /* , that = undefined */) {\n    return $findIndex(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables(FIND_INDEX);\n"],"sourceRoot":""}